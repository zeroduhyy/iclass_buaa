# iClass BUAA 签到二维码生成器

## 免责声明

本项目为开源代码，使用者需自行选择是否使用，并应遵守北京航空航天大学的相关规定。因使用本项目产生的一切后果均由使用者本人承担。

## 项目简介

本工具基于 iClass 平台的签到二维码 URL 进行重新生成，方便同学们随时随地扫码签到。

## 使用步骤

### 方法一：自动配置（推荐）

1. 运行自动配置工具：

   ```sh
   python first.py
   ```

2. 按照提示输入学号和密码

   - 程序会自动登录北航 SSO 系统
   - 自动获取您的 loginName 和所有课程信息
   - 自动生成 config.json 文件

3. 配置完成后，运行签到工具：

   ```sh
   python start.py
   ```

4. 在浏览器中访问 [http://localhost:5000](http://localhost:5000) 使用签到功能

### 方法二：手动配置

如果自动配置出现问题，也可以手动配置：

#### 1. 获取 `loginName`

在电脑浏览器中访问 [iClass](https://iclass.buaa.edu.cn:8346/) 并完成身份验证。登录后，查看浏览器地址栏中的 `loginName=xxxxx`，复制 `xxxxx`（注意，不包括 `#` 号），并将其粘贴至 `config.json` 文件的 `loginName` 字段。例如：

```json
{
  "loginName": "************",
  "courses": []
}
```

#### 2. 获取课程 ID

1. 在 iClass 主页中，点击 **"考勤查询"**，页面跳转后按下 `F12` 进入 **开发者工具**。
2. 在开发者工具中，选择 **"网络 (Network)"** 选项卡。
3. 回到网页，选择一门课程（例如 **"自动控制原理"**）。
4. 确认后，在 **开发者工具** 中找到一个类似 `get_my_course_sign_detail.action?id=xxxxx&courseId=*******` 的请求。
5. 其中 `*******` 即为该课程的 ID。

按照 `课程名称:课程ID` 的格式，将课程信息填入 `config.json` 的 `courses` 字段。例如：

```json
{
  "loginName": "************",
  "courses": ["信息论基础:69273", "通信原理:70068", "自动控制原理:71434"]
}
```

> ⚠️ 请注意：逗号应使用 **英文逗号 (`,`)**，请勿使用中文逗号 (`，`)。

## 运行项目

确保你的计算机已安装 Python 环境，并执行以下命令运行项目：

```sh
python start.py
```

运行成功后，在浏览器中访问 [http://localhost:5000](http://localhost:5000)，即可查看和生成签到二维码。

## 注意事项

- 本项目仅用于个人学习交流，请勿用于任何违反学校规定的用途。
- `config.json` 包含个人信息，请勿上传或分享。
- 自动配置工具需要您的学号和密码，仅用于获取必要信息，不会上传或保存您的密码。
- 使用过程中若遇到问题，可以尝试手动配置方法，或检查 iClass 网站的请求格式是否有所变更。

---

希望本工具能为你的学习带来便利！🚀
